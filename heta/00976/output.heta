/*
category:      Test
synopsis:      A three-step reaction scheme with a model conversion factor and a species conversion factor.
componentTags: Compartment, Parameter, Reaction, Species
testTags:      Amount, ConversionFactors, NonUnityStoichiometry
testType:      TimeCourse
levels:        3.1, 3.2
generatedBy:   Numeric

This model tests conversion factors through a system of three reactions.  There is a conversion factor ('modelconv') on the model of 4, and a second conversion factor ('S1conv') on species S1.  This means that S1 is converted according to S1conv, and S2 is converted according to modelconv.  Together, this changes how S1 and S2 change in time, but not how S1 and S2 are interpreted in the reaction rates.


The model contains:
* 2 species (S1, S2)
* 5 parameters (k1, k2, k3, S1conv, modelconv)
* 1 compartment (default_compartment)

There are 3 reactions:

[{width:30em,margin: 1em auto}|  *Reaction*  |  *Rate*  |
| -> S1 | $k1$ |
| 2S1 -> 3S2 | $k2 * S1 / S2$ |
| S2 -> | $k3 * S2$ |]

The initial conditions are as follows:

[{width:35em,margin: 1em auto}|       | *Value* | *Constant* |
| Initial concentration of species S1 | $0$ | variable |
| Initial concentration of species S2 | $0.001$ | variable |
| Initial value of parameter k1 | $1$ | constant |
| Initial value of parameter k2 | $3$ | constant |
| Initial value of parameter k3 | $1.4$ | constant |
| Initial value of parameter S1conv | $3$ | constant |
| Initial value of parameter modelconv | $4$ | constant |
| Initial volume of compartment 'default_compartment' | $1$ | constant |]

*/



t @TimeScale { };

default_compartment @Compartment { boundary: true, aux: {{"sboTerm":"SBO:0000410"}}, } .= 1;

S1 @Species { compartment: default_compartment, } .= 0;
S2 @Species { compartment: default_compartment, } .= 0.001;

_J0 @Reaction { actors:  = S1, };
_J0 := k1;
_J1 @Reaction { actors: 2*S1 = 3*S2, };
_J1 := (k2 * S1) / S2;
_J2 @Reaction { actors: S2 = , };
_J2 := k3 * S2;

k1 @Const { } = 1;
k2 @Const { } = 3;
k3 @Const { } = 1.4;
S1conv @Const { } = 3;
modelconv @Const { } = 4;

